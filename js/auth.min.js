/* MenuLabus - Optimized */
document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("fa-styles-preload");function t(e,t){o(e);const n=document.createElement("div");n.className="field-error",n.textContent=t,n.style.cssText="color:#d40000;font-size:13px;margin-top:4px;",e.parentNode.appendChild(n),e.style.borderColor="#d40000"}function o(e){const t=e.parentNode.querySelector(".field-error");t&&t.remove(),e.style.borderColor=""}e&&(e.onload=function(){this.onload=null,this.rel="stylesheet"},setTimeout(function(){e&&"preload"===e.rel&&(e.rel="stylesheet")},3e3)),document.querySelectorAll(".show-password-checkbox").forEach(e=>{e.addEventListener("change",function(){const e=this.closest(".form-group").querySelector(".password-input");e&&(e.type=this.checked?"text":"password")})}),document.querySelectorAll(".password-input").forEach(e=>{e.addEventListener("input",()=>o(e))});const n=document.getElementById("registerForm");n&&n.addEventListener("submit",function(e){(function(){const e=document.querySelector('input[name="password"]'),n=document.querySelector('input[name="password_confirm"]');let r=!0;return e&&(o(e),e.value.length<8?(t(e,"Минимум 8 символов"),r=!1):/[A-ZА-Я]/u.test(e.value)||(t(e,"Нужна хотя бы одна заглавная буква"),r=!1)),e&&n&&(o(n),e.value!==n.value&&(t(n,"Пароли не совпадают"),r=!1)),r})()||e.preventDefault()})});document.addEventListener("DOMContentLoaded",function(){function e(e){const t=e.getAttribute("data-target"),o=t?document.getElementById(t):e.closest(".form-group")?.querySelector(".password-input");if(!o)return;const n="text"===o.type;o.type=n?"password":"text",e.classList.toggle("is-visible",!n),e.setAttribute("aria-label",n?"Show password":"Hide password")}document.querySelectorAll(".password-visibility").forEach(function(t){t.addEventListener("click",function(){e(t)}),t.addEventListener("keydown",function(o){("Enter"===o.key||" "===o.key)&&(o.preventDefault(),e(t))})})});
