/* MenuLabus - Optimized */
class PWAInstall{constructor(){this.deferredPrompt=null,this.isInstalled="true"===localStorage.getItem("pwa_installed"),this.init()}init(){window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.deferredPrompt=t,this.showInstallButton()}),window.addEventListener("appinstalled",()=>{this.isInstalled=!0,localStorage.setItem("pwa_installed","true"),this.hideInstallButton()}),window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0,localStorage.setItem("pwa_installed","true"))}showInstallButton(){if(this.isInstalled)return;if(document.getElementById("pwa-install-button"))return;const t=document.createElement("button");t.id="pwa-install-button",t.innerHTML="ðŸ“± Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ",t.style.cssText="\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            padding: 12px 20px;\n            background: linear-gradient(45deg, #ec1414ff, #b30000ff);\n            color: white;\n            border: none;\n            border-radius: 25px;\n            cursor: pointer;\n            font-size: 14px;\n            font-weight: bold;\n            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);\n            z-index: 1000;\n            transition: all 0.3s ease;\n        ",t.onmouseover=()=>{t.style.transform="translateY(-2px)",t.style.boxShadow="0 6px 20px rgba(0,123,255,0.4)"},t.onmouseout=()=>{t.style.transform="translateY(0)",t.style.boxShadow="0 4px 15px rgba(0,123,255,0.3)"},t.onclick=()=>this.installPWA(),document.body.appendChild(t),setTimeout(()=>this.hideInstallButton(),1e4)}hideInstallButton(){const t=document.getElementById("pwa-install-button");t&&(t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>t.remove(),300))}async installPWA(){if(!this.deferredPrompt)return;this.deferredPrompt.prompt();const{outcome:t}=await this.deferredPrompt.userChoice;"accepted"===t&&(console.log("ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¿Ñ€Ð¸Ð½ÑÐ» Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸"),this.isInstalled=!0,localStorage.setItem("pwa_installed","true")),this.deferredPrompt=null,this.hideInstallButton()}}"undefined"!=typeof window&&document.addEventListener("DOMContentLoaded",()=>{window.pwaInstaller=new PWAInstall,/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&setTimeout(()=>window.pwaInstaller.showInstallButton(),3e3)});